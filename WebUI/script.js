!function(n){n(function(){function e(){const e=n("#global-head").outerHeight();document.documentElement.style.setProperty("--header-h",e+"px")}e(),n(window).on("resize",e),n(".sub-menu.is-active .sub-menu-nav").show(),n(".sub-menu-head").on("click",function(){var e=n(this).next(".sub-menu-nav");return e.is(":visible")?(e.velocity("slideUp",{duration:200}),n(this).parent("li").removeClass("is-active")):(e.velocity("slideDown",{duration:200}),n(this).parent("li").addClass("is-active")),!1}),n("#nav-toggle").on("click",function(){n("body").toggleClass("close")}),n("#popupBtn").on("click",function(){n("#myPopup").fadeIn().addClass("show")}),n("#myPopup").on("click",function(e){e.target===this&&n(this).fadeOut().removeClass("show")}),n("#close").on("click",function(){n("#myPopup").fadeOut().removeClass("show")}),n("#openVpnUserPopup").on("click",function(){n("#vpnUserPopup").fadeIn().addClass("show")}),n("#closeVpnUserPopup").on("click",function(){n("#vpnUserPopup").fadeOut().removeClass("show")})})}(jQuery),$(document).ready(function(){let n=!1,e=!1,o=!1,t=!1;function s(){const o=n;$("#openVpnUserPopup").prop("disabled",!(o&&e)),$(".delete-btn").prop("disabled",!o),$("#openVpnUserPopup").css("opacity",o&&e?1:.5),$(".delete-btn").css("opacity",o?1:.5)}$("#vpnEnable").on("change",function(){}),$("#popupYes").on("click",function(){o&&(n=!0,e=t||!0),o=!1,t=!1,s(),$("#confirmPopup").fadeOut().removeClass("show")}),$("#popupNo").on("click",function(){$("#vpnEnable").prop("checked",n),o=!1,t=!1,$("#confirmPopup").fadeOut().removeClass("show")}),$("#applyPsk").on("click",function(){const i=$("#vpnPsk").val().trim(),p=$("#vpnEnable").is(":checked");return i?p&&!n?(o=!0,t=!0,void $("#confirmPopup").fadeIn().addClass("show")):(o=!1,t=!1,n=p,e=!0,void s()):(e=!1,void s())}),$(document).on("click",".delete-btn",function(){$(this).prop("disabled")||$(this).closest("tr").remove()}),$(document).on("click","#addVpnUser",function(){if($(this).prop("disabled"))return;const n=$("#vpnUser").val().trim(),e=$("#vpnPass").val().trim();if(!n||!e)return void $("#vpnErrorMsg").text("ユーザー名とパスワードを入力してください");if(!/^[a-zA-Z0-9._-]+$/.test(n))return void $("#vpnErrorMsg").text("ユーザー名に使用できない文字が含まれています");if($("#vpnUserTable tbody tr").not("#vpnInputRow").toArray().some(e=>$(e).find("td").eq(0).text().toLowerCase()===n.toLowerCase()))return void $("#vpnErrorMsg").text("同じユーザー名が既に存在します");$("#vpnErrorMsg").text("");const o=`\n            <tr>\n                <td>${n}</td>\n                <td>******</td>\n                <td>\n                    <button class="table delete-btn">削除</button>\n                </td>\n            </tr>\n        `;$("#vpnUserTable tbody").append(o),$("#vpnUser").val(""),$("#vpnPass").val(""),s(),$("#FinishPopup").fadeIn().addClass("show"),$("#vpnUserPopup").fadeOut().removeClass("show")}),$(document).on("click","#cancelVpnUser",function(){$("#vpnUser").val(""),$("#vpnPass").val(""),$("#vpnErrorMsg").text(""),$("#vpnUserPopup").fadeOut().removeClass("show")}),s();let i=!0;$("#FinishPopup").hasClass("show")&&(i=!1);let p=!1;$("#GiveupPopup").on("click",function(n){n.target===this&&p&&$(this).fadeOut().removeClass("show")}),$(document).on("click",".giveup-btn",function(){$("#GiveupPopup").fadeIn().addClass("show"),p=!0}),function(){const n=Date.now();!function e(){if(Date.now()-n>=6e5){if(!i)return;$("#GiveupPopup").fadeIn().addClass("show"),p=!1,setTimeout(function(){p=!0},3e3),$("#dummyBtn").addClass("giveup-btn").attr("title","結果を再表示")}else setTimeout(e,1e3)}()}(),$(document).on("click",".delete-btn",function(){$(this).closest("tr").remove()})});