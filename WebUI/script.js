!function(e){e(function(){function n(){const n=e("#global-head").outerHeight();document.documentElement.style.setProperty("--header-h",n+"px")}n(),e(window).on("resize",n),e(".sub-menu.is-active .sub-menu-nav").show(),e(".sub-menu-head").on("click",function(){var n=e(this).next(".sub-menu-nav");return n.is(":visible")?(n.velocity("slideUp",{duration:200}),e(this).parent("li").removeClass("is-active")):(n.velocity("slideDown",{duration:200}),e(this).parent("li").addClass("is-active")),!1}),e("#nav-toggle").on("click",function(){e("body").toggleClass("close")}),e("#popupBtn").on("click",function(){e("#myPopup").fadeIn().addClass("show")}),e("#myPopup").on("click",function(n){n.target===this&&e(this).fadeOut().removeClass("show")}),e("#close").on("click",function(){e("#myPopup").fadeOut().removeClass("show")}),e("#openVpnUserPopup").on("click",function(){e("#vpnUserPopup").fadeIn().addClass("show")}),e("#closeVpnUserPopup").on("click",function(){e("#vpnUserPopup").fadeOut().removeClass("show")})})}(jQuery),$(document).ready(function(){let e=!1,n=!1,t=!1,o=!1;function s(){const t=e;$("#openVpnUserPopup").prop("disabled",!(t&&n)),$(".delete-btn").prop("disabled",!t),$("#openVpnUserPopup").css("opacity",t&&n?1:.5),$(".delete-btn").css("opacity",t?1:.5)}$("#vpnEnable").on("change",function(){}),$("#popupYes").on("click",function(){t&&(e=!0,n=o||!0),t=!1,o=!1,s(),$("#confirmPopup").fadeOut().removeClass("show")}),$("#popupNo").on("click",function(){$("#vpnEnable").prop("checked",e),t=!1,o=!1,$("#confirmPopup").fadeOut().removeClass("show")}),$("#applyPsk").on("click",function(){const i=$("#vpnPsk").val().trim(),p=$("#vpnEnable").is(":checked");return $("#vpnPskErrorMsg").text("​"),i?/^[\x20-\x7E]+$/.test(i)?/\x20/.test(i)?(n=!1,$("#vpnPskErrorMsg").text("スペースは使用できません。"),void s()):p&&!e?(t=!0,o=!0,void $("#confirmPopup").fadeIn().addClass("show")):(t=!1,o=!1,e=p,n=!0,void s()):(n=!1,$("#vpnPskErrorMsg").text("全角文字は使用できません。"),void s()):(n=!1,$("#vpnPskErrorMsg").text("事前共有キーを入力してください。"),void s())}),$(document).on("click",".delete-btn",function(){$(this).prop("disabled")||$(this).closest("tr").remove()}),$(document).on("click","#addVpnUser",function(){if($(this).prop("disabled"))return;const e=$("#vpnUser").val().trim(),n=$("#vpnPass").val().trim();if(!e||!n)return void $("#vpnErrorMsg").text("ユーザー名とパスワードを入力してください");if(!/^[\x20-\x7E]+$/.test(e)||!/^[\x20-\x7E]+$/.test(n))return void $("#vpnErrorMsg").text("全角文字は使用できません。");if(/\x20/.test(e)||/\x20/.test(n))return void $("#vpnErrorMsg").text("スペースは使用できません。");if($("#vpnUserTable tbody tr").not("#vpnInputRow").toArray().some(n=>$(n).find("td").eq(0).text().toLowerCase()===e.toLowerCase()))return void $("#vpnErrorMsg").text("同じユーザー名が既に存在します");$("#vpnErrorMsg").text("​");const t=`\n            <tr>\n                <td>${e}</td>\n                <td>******</td>\n                <td>\n                    <button class="table delete-btn">削除</button>\n                </td>\n            </tr>\n        `;$("#vpnUserTable tbody").append(t),$("#vpnUser").val(""),$("#vpnPass").val(""),s(),$("#FinishPopup").fadeIn().addClass("show"),$("#vpnUserPopup").fadeOut().removeClass("show")}),$(document).on("click","#cancelVpnUser",function(){$("#vpnUser").val(""),$("#vpnPass").val(""),$("#vpnErrorMsg").text(""),$("#vpnUserPopup").fadeOut().removeClass("show")}),s();let i=!0;$("#FinishPopup").hasClass("show")&&(i=!1);let p=!1;$("#GiveupPopup").on("click",function(e){e.target===this&&p&&$(this).fadeOut().removeClass("show")}),$(document).on("click",".giveup-btn",function(){$("#GiveupPopup").fadeIn().addClass("show"),p=!0}),function(){const e=Date.now();!function n(){if(Date.now()-e>=6e5){if(!i)return;$("#GiveupPopup").fadeIn().addClass("show"),p=!1,setTimeout(function(){p=!0},3e3),$("#dummyBtn").addClass("giveup-btn").attr("title","結果を再表示")}else setTimeout(n,1e3)}()}(),$(document).on("click",".delete-btn",function(){$(this).closest("tr").remove()})});